{% extends "user_base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="auth-screen">
  <!-- Panel izquierdo: Hero / Branding -->
  <aside class="hero">
    <div class="hero-inner">
      <div class="mark">
        <img src="{% static 'mi_app/img/logo.png' %}" alt="HACHE" />
        <span>HACHE</span>
      </div>
      <h1>Únete y <span>optimiza</span> tus horarios</h1>
      <p class="lead">
        Regístrate gratis y gestiona tus horarios de forma automática.
        Ahorra tiempo, evita choques de aulas y obtén un control total.
      </p>

      <ul class="bullets">
        <li>Registro rápido</li>
        <li>Vinculación a institución</li>
        <li>Generación de horarios inteligente</li>
      </ul>

      <div class="hero-badge">
        <div>100% en la nube</div>
        <div class="sep"></div>
        <div>Listo en minutos</div>
      </div>
    </div>

    <div class="shapes">
      <div class="blob b1"></div>
      <div class="blob b2"></div>
      <div class="blob b3"></div>
    </div>
  </aside>

  <!-- Panel derecho: Card de registro -->
  <main class="panel">
    <div class="card">
      <header class="card-head">
        <h2>Crear cuenta</h2>
        <p class="sub">Es rápido y sencillo</p>
      </header>

      {% include "_messages.html" %}

      {% if form.non_field_errors %}
        <div class="alert">{{ form.non_field_errors }}</div>
      {% endif %}

      <form method="post" novalidate class="form">
        {% csrf_token %}

        {% for field in form %}
          <div class="field">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field|add_class:"input"|attr:"placeholder:"|attr:"autocomplete:off" }}
            {% if field.errors %}
              <div class="error">{{ field.errors|striptags }}</div>
            {% endif %}
          </div>
        {% endfor %}

        <button type="submit" class="btn">Registrarme</button>
      </form>

      <p class="alt">
        ¿Ya tienes cuenta?
        <a href="{% url 'login' %}">Inicia sesión</a>
      </p>
    </div>
  </main>
</div>

<style>
  /* Usamos el mismo CSS del login */
  :root{
    --azul:#0d47a1;
    --azul-osc:#0a3b86;
    --agua:#2dd4bf;
    --blanco:#ffffff;
    --gris:#6b7280;
    --borde:#e5e7eb;
    --bg:#f3f7fb;
  }

  html, body {
    height: 100%;
    margin: 0;
    font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
    background: var(--bg);
  }

  .auth-screen{
    display: grid;
    grid-template-columns: 1.1fr 1fr;
    height: 100vh;
    overflow: hidden;
  }

  /* HERO */
  .hero{
    position: relative;
    background: radial-gradient(1200px 600px at -10% -20%, #e6f7ff 0%, transparent 60%),
                radial-gradient(800px 600px at 120% 120%, #d9fff7 0%, transparent 55%),
                linear-gradient(135deg, #eaf2ff 0%, #e8fbf7 100%);
  }
  .hero-inner{
    position: relative;
    z-index: 2;
    height: 100%;
    padding: 56px 64px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 980px;
  }
  .mark{
    display: inline-flex;
    align-items: center;
    gap: 12px;
    background: rgba(255,255,255,.6);
    border: 1px solid rgba(13,71,161,.12);
    padding: 10px 14px;
    border-radius: 14px;
    backdrop-filter: blur(4px);
    margin-bottom: 20px;
    width: fit-content;
  }
  .mark img{ height: 42px; width: auto; }
  .mark span{ font-weight: 800; color: var(--azul); letter-spacing:.5px; }

  .hero h1{
    font-size: 48px;
    line-height: 1.06;
    margin: 10px 0 12px;
    color: #0b2b64;
    font-weight: 900;
  }
  .hero h1 span{
    background: linear-gradient(90deg, var(--azul), var(--agua));
    -webkit-background-clip: text; background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .hero .lead{
    font-size: 18px;
    color: #12325f;
    max-width: 760px;
    margin: 0 0 22px;
  }
  .bullets{
    list-style: none; padding: 0; margin: 0 0 26px;
    display: grid; grid-template-columns: repeat(3, auto); gap: 14px 22px;
  }
  .bullets li{
    position: relative; padding-left: 28px; color:#0f2f5a; font-weight: 600;
  }
  .bullets li::before{
    content:""; position:absolute; left:0; top:6px; width:16px; height:16px; border-radius:50%;
    background: linear-gradient(135deg, var(--agua), #4ade80);
    box-shadow: 0 0 0 4px rgba(45,212,191,.18);
  }
  .hero-badge{
    display: inline-flex; align-items:center; gap:10px;
    background: #fff;
    border:1px solid var(--borde);
    border-radius: 14px;
    padding: 10px 14px;
    color:#0e2c58; font-weight:700;
    box-shadow: 0 10px 30px rgba(13,71,161,.10);
    width: fit-content;
  }
  .hero-badge .sep{
    width: 1px; height: 18px; background: var(--borde);
  }
  .shapes .blob{
    position: absolute; border-radius: 50%;
    filter: blur(12px); opacity: .6;
  }
  .b1{ width: 320px; height: 320px; right: -80px; top: -80px; background: rgba(13,71,161,.25); }
  .b2{ width: 260px; height: 260px; left: -60px; bottom: -60px; background: rgba(45,212,191,.28); }
  .b3{ width: 180px; height: 180px; right: 8%; bottom: 10%; background: rgba(13,71,161,.18); }

  /* PANEL DERECHO */
  .panel{
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 48px;
    background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
  }
  .card{
    width: 100%;
    max-width: 520px;
    background: #fff;
    border: 1px solid var(--borde);
    border-radius: 20px;
    box-shadow: 0 28px 70px rgba(13,71,161,.18);
    padding: 34px 34px 26px;
  }
  .card-head h2{
    margin: 0; font-size: 28px; color: var(--azul); font-weight: 900;
  }
  .card-head .sub{
    margin: 4px 0 0; color: var(--gris);
  }
  .form{ margin-top: 20px; }
  .field{ margin-bottom: 16px; }
  .field label{
    display: block; font-weight: 700; color:#12263a; margin-bottom: 6px;
  }
  .input{
    width: 100%;
    border: 1px solid var(--borde);
    border-radius: 12px;
    padding: 14px 16px;
    font-size: 16px;
    background: #fbfdff;
    transition: all .2s;
  }
  .input:focus{
    border-color: var(--agua);
    box-shadow: 0 0 0 4px rgba(45,212,191,.22);
    outline: none;
  }
  .btn{
    width: 100%;
    background: linear-gradient(90deg, var(--azul), var(--agua));
    color: var(--blanco);
    border: none;
    padding: 14px 16px;
    border-radius: 12px;
    font-size: 17px;
    font-weight: 800;
    cursor: pointer;
    box-shadow: 0 10px 24px rgba(13,71,161,.22);
    transition: transform .05s, filter .2s;
    margin-top: 6px;
  }
  .btn:hover{ filter: brightness(1.05); }
  .btn:active{ transform: translateY(1px); }
  .alt{
    text-align: center; color: var(--gris); margin-top: 14px;
  }
  .alt a{
    color: var(--azul-osc); font-weight: 800; text-decoration: none;
    border-bottom: 2px solid rgba(13,71,161,.25); padding-bottom: 2px;
  }
  .alt a:hover{ border-color: var(--agua); color: var(--azul); }
  .error{ margin-top: 6px; color:#b00020; font-size: .95rem; }
  .alert{
    background:#fff7ed; border:1px solid #fed7aa; color:#9a3412;
    padding: 10px 12px; border-radius: 10px; font-size:.95rem; margin:8px 0 12px;
  }
  @media (max-width: 900px){
    .auth-screen{ grid-template-columns: 1fr; }
    .hero{ display:none; }
    .panel{ padding: 28px; }
  }
</style>
{% endblock %}
